<!-- Tailwind CSS classes have been removed and migrated to generate-ats-resume.component.css -->
<div class="app-container" *ngIf="resumeData">
  
  <!-- Resume Container (Outer border for screen, full bleed container for print/PDF) -->
  <div id="resume-content">
    
    <!-- New wrapper for all content to apply controlled internal padding/margin -->
    <div class="resume-page">
    
        <!-- Header Section (Clean and Centered) -->
        <header>
          <h1>{{ resumeData.full_name }}</h1>
          
          <!-- Contact Info: Responsive layout -->
          <div class="contact-info">
            <span *ngIf="resumeData.location">{{ resumeData.location }}</span>
            <span *ngIf="resumeData.phone">{{ resumeData.phone }}</span>
            <span *ngIf="resumeData.email">{{ resumeData.email }}</span>
            
            <span *ngIf="resumeData.linkedin">
              <a [href]="resumeData.linkedin" target="_blank">LinkedIn</a>
            </span>
            <span *ngIf="resumeData.portfolio">
              <a [href]="resumeData.portfolio" target="_blank">Portfolio</a>
            </span>
          </div>
        </header>

        <!-- Professional Summary -->
        <section>
          <h2>Professional Summary</h2>
          <p>
            {{ resumeData.experience_type }} candidate with a strong foundation in 
            <span *ngIf="resumeData.skills.length > 0">{{ getSkillNames() }}</span>.
            Experienced in building scalable applications and leveraging modern software development practices.
          </p>
        </section>
        
        <!-- Skills Section (Responsive Grid) -->
        <section>
          <h2>Skills</h2>
          <div class="skill-grid">
            <!-- First column for skills -->
            <ul class="skill-list" *ngIf="skillColumn1.length > 0">
              <li *ngFor="let skill of skillColumn1" class="skill-item">
                <span class="skill-bullet">‚Ä¢</span> {{ skill.name }}
              </li>
            </ul>
            <!-- Second column for skills -->
            <ul class="skill-list col-2-start" *ngIf="skillColumn2.length > 0">
              <li *ngFor="let skill of skillColumn2" class="skill-item">
                <span class="skill-bullet">‚Ä¢</span> {{ skill.name }}
              </li>
            </ul>
            <p *ngIf="!resumeData.skills || resumeData.skills.length === 0" class="no-data">No skills listed in the profile data.</p>
          </div>
        </section>

        <!-- Experience Section (Dynamic) -->
        <section>
          <h2>Experience</h2>
          
          <div *ngIf="!resumeData.experience || resumeData.experience.length === 0">
            <p class="no-data">No formal work experience listed ({{ resumeData.experience_type }}).</p>
          </div>
          
          <ul class="experience-list">
            <li *ngFor="let exp of resumeData.experience" class="experience-item">
              <div class="title-row">
                <strong>{{ exp.title }} | {{ exp.company }}</strong>
                <span>{{ exp.start_date }} to {{ exp.end_date || 'Present'}}</span>
              </div>
              <p>{{ exp.description }}</p>
            </li>
          </ul>
        </section>

        <!-- Projects Section (Dynamic) -->
        <section>
          <h2>Personal Projects</h2>
          <ul class="project-list">
            <li *ngFor="let project of resumeData.projects">
              <strong>{{ project.title }}</strong> ‚Äì <span class="tech-used">{{ project.tech_used }}</span><br>
              <span class="project-desc">{{ project.description }}</span>
              <span *ngIf="project.url"> 
                <a [href]="project.url" target="_blank" class="project-link">(View Project)</a>
              </span>
            </li>
          </ul>
          <p *ngIf="!resumeData.projects || resumeData.projects.length === 0" class="no-data">No projects listed in the profile data.</p>
        </section>

        <!-- Education Section (Dynamic) -->
        <section class="last-section">
          <h2>Education</h2>
          <div *ngFor="let edu of resumeData.education" class="education-item">
            <div class="title-row">
              <p>
                {{ edu.degree }} - {{ edu.institution }} 
              </p>
              <span *ngIf="edu.start_year && edu.end_year"> ({{ edu.start_year }} - {{ edu.end_year }})</span>
            </div>
            <p class="grade">Grade/CGPA: <span>{{ edu.grade }}</span></p>
          </div>
          <p *ngIf="!resumeData.education || resumeData.education.length === 0" class="no-data">No education details available.</p>
        </section>
    
    </div> <!-- End .resume-page -->
  </div> <!-- End #resume-content -->

  <!-- Action Buttons (Fixed at the bottom of the viewport on larger screens for easy access) -->
  <div class="print-hidden">
    <!-- Action buttons container (Toggle on/off) -->
    <div class="action-buttons-container" *ngIf="isButtonContainerVisible()">
      <!-- Print Button (Secondary/Outlined Style) -->
      <button (click)="printResume()" class="action-button btn-secondary">
        <span class="text-xl mr-2">üñ®Ô∏è</span> Print Resume
      </button>
      <!-- Download as PDF Button (Primary/Solid Style) -->
      <button (click)="downloadResume()" class="action-button btn-primary">
        <span class="text-xl mr-2">‚¨áÔ∏è</span> Download as PDF
      </button>
    </div>

    <!-- Toggle Button -->
    <button (click)="toggleButtonContainer()" class="btn-toggle">
        {{ isButtonContainerVisible() ? 'Hide Actions' : 'Show Actions' }}
    </button>
  </div>
</div>