<div class="upload-container">
  <h2>Upload Notes Manually</h2>
  
  <form [formGroup]="noteForm" (ngSubmit)="onSubmit()" class="form-card">
    
    <!-- Subject Input (Manual) -->
    <div class="form-group">
      <label>Subject Name</label>
      <input 
        type="text" 
        formControlName="subject" 
        placeholder="Ex: Full Stack Development, Python, etc."
        class="form-control"
      >
      <small class="hint">Type the exact subject name (New or Existing)</small>
    </div>

    <!-- Topic / Title Input -->
    <div class="form-group">
      <label>Topic / Title</label>
      <input 
        type="text" 
        formControlName="title" 
        placeholder="Ex: Introduction to Angular, Loops in Java"
        class="form-control"
      >
    </div>

    <!-- Category & Description -->
    <div class="form-row">
      <div class="form-group half">
        <label>Category</label>
        <select formControlName="category" class="form-control">
          <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>Description (Optional)</label>
      <textarea formControlName="description" rows="2" class="form-control"></textarea>
    </div>

    <!-- File Input -->
    <div class="form-group">
      <label>PDF File</label>
      <input type="file" (change)="onFileSelected($event)" accept="application/pdf" class="form-control-file">
      <div *ngIf="selectedFile()" class="file-info">Selected: {{ selectedFile()?.name }}</div>
    </div>

    <!-- Progress Bar -->
    <div *ngIf="uploadProgress() > 0" class="progress-bar">
      <div class="fill" [style.width.%]="uploadProgress()"></div>
    </div>

    <button type="submit" [disabled]="isSubmitting()" class="btn-submit">
      {{ isSubmitting() ? 'Uploading...' : 'Upload Note' }}
    </button>

    <p *ngIf="uploadStatus()" [class]="uploadStatus()?.type" class="status-msg">
      {{ uploadStatus()?.message }}
    </p>

  </form>
</div>